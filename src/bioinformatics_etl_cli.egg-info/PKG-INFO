Metadata-Version: 2.4
Name: bioinformatics-etl-cli
Version: 1.0.0
Summary: Local-first CLI ETL toolkit for genomic TSV studies
Author-email: Bioinformatics Team <team@example.com>
Requires-Python: >=3.10
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: polars>=1.0.0
Requires-Dist: SQLAlchemy>=2.0.0
Requires-Dist: pyodbc>=5.0.0
Requires-Dist: pydantic>=2.0.0
Requires-Dist: structlog>=23.0.0
Requires-Dist: tenacity>=8.0.0
Requires-Dist: typer[all]>=0.9.0
Requires-Dist: pyyaml>=6.0.0
Requires-Dist: python-dotenv>=1.0.0
Requires-Dist: rich>=13.0.0
Provides-Extra: dev
Requires-Dist: pytest>=8.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: black>=23.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: mypy>=1.0.0; extra == "dev"
Requires-Dist: pytest-asyncio>=0.21.0; extra == "dev"
Dynamic: license-file

# Bioinformatics ETL CLI

A local-first ETL toolkit that ingests genomics TSV studies into a dimensional model targeting SQL
Server or SQLite. The project focuses on debuggable CLI operations, resilient batch processing, and
checkpointed recovery workflows.

## Getting Started

1. **Install dependencies** (recommended: [`uv`](https://docs.astral.sh/uv/)):

   ```bash
   uv venv
   source .venv/bin/activate
   uv pip install -e .[dev]
   ```

2. **Copy the example configuration** and adjust to your environment:

   ```bash
   cp config/config.example.yaml config/config.yaml
   cp config/field_mappings.example.yaml config/field_mappings.yaml
   ```

3. **Run the CLI** using the Typer entry point:

   ```bash
   python -m src.cli.main etl run --config ./config/config.yaml
   ```

## CLI Commands

- `etl run --config ./config.yaml` – Execute a new ETL run with discovery, transform, and load
  phases.
- `etl resume --run-id <RUN_ID>` – Resume a halted run by replaying checkpoints.
- `etl rollback --run-id <RUN_ID>` – Revert fact and dimension data associated with a run.
- `etl validate --input-dir <PATH>` – Verify study folders and TSV structure.
- `etl report --run-id <RUN_ID>` – Summarize metrics for a previous execution.

## Project Layout

The repository follows an ETL-centric package layout:

```
src/
  cli/            # Typer CLI definition and validators
  db/             # SQLAlchemy engines and metadata
  etl/            # Discovery, transform, load, and resilience layers
  utils/          # Logging, file utilities, metrics utilities
migrations/       # SQL Server and SQLite DDL
config/           # Configuration templates
logs/, artifacts/ # Runtime outputs and checkpoints
```

## Testing

Run the pytest suite:

```bash
pytest
```

Tests rely on lightweight fixtures and do not require live database connections. Integration tests
can be added under `tests/` as the pipeline is expanded.

## License

Distributed under the terms of the MIT License. See [LICENSE](LICENSE).
